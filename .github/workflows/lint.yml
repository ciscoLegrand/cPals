name: Ruby Lint and Autocorrect

on: [push, pull_request]

jobs:
  rubocop:
    runs-on: ubuntu-latest
    steps:
      - name: ðŸ”„ Checkout code
        uses: actions/checkout@v2
        with:
          fetch-depth: 0
  
      - name: Configurar usuario Git para el bot
        run: |
          git config --global user.name "GitHubBot"
          git config --global user.email "github-bot@creadix.es"
  
      - name: Realizar cambios
        run: |
          # AquÃ­ puedes agregar los comandos para realizar los cambios que necesitas
          # Por ejemplo, modificar archivos, ejecutar scripts, etc.
  
      - name: Commit y Push a ${{ github.repository }}
        env:
          GITHUB_TOKEN: ${{ secrets.GH_PAT }}
        run: |
          bundle exec rubocop -A
          git add .
          git commit -m "Commit automÃ¡tico realizado por ${{ github.actor }}"
          REPO_URL="https://x-access-token:${GITHUB_TOKEN}@github.com/${{ github.repository }}.git"
          git push "${REPO_URL}"
    